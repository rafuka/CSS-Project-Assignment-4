<!DOCTYPE html>
<html>
<head>
	<title>Questionnaire Form</title>
	<link rel="stylesheet" type="text/css" href="cards.css">
	<link rel="stylesheet" href="forms.css">
	<link rel="stylesheet" type="text/css" href="styles.css">
	<meta charset="utf-8">
	<meta name=”viewport” content=”width=device-width, initial-scale=1”>
	<script src="validator.js"></script>
</head>
<body>
	<form class="card" id="questionnaire-form">
		<fieldset form="questionnaire">
			<legend>Pick your flavor</legend>
			<div class="form-group">
				<label for="chocolate">Chocolate</label>
				<input type="radio" name="flavour" value="chocolate" id="chocolate">
				<p>Some info about the chocolate.</p>
			</div>
			<hr>
			<div class="form-group">
				<label for="vanilla">Vanilla</label>
				<input type="radio" name="flavour" value="vanilla" id="vanilla">
				<p>Some info about the vanilla.</p>
			</div>
			<hr>
			<div class="form-group">
				<label for="strawberry">Strawberry</label>
				<input type="radio" name="flavour" value="strawberry" id="strawberry">
				<p>Some info about the strawberry.</p>
			</div>
			<hr>
			<div class="form-group">
				<label for="lemon">Lemon</label>
				<input type="radio" name="flavour" value="lemon" id="lemon">
				<p>Some info about the lemon.</p>
			</div>
			<hr>
			<div class="form-group">
				<label for="other">Other</label>
				<input type="radio" name="flavour" value="other" id="other">
				<input type="text" name="flavour-typed" id="other-text"> 
			</div>
			<div class="form-group">
				<button type="submit" form="questionnaire">Submit!</button>
			</div>
		</fieldset>
	</form>
	<script type="text/javascript">
		var questionForm = document.getElementById('questionnaire-form');
		var chocolate = document.getElementById('chocolate');
		var vanilla = document.getElementById('vanilla');
		var strawberry = document.getElementById('strawberry');
		var lemon = document.getElementById('lemon');
		var other = document.getElementById('other');
		var otherText = document.getElementById('other-text');

		questionForm.addEventListener('submit', function(event) {

			if (chocolate.checked || vanilla.checked || strawberry.checked || lemon.checked) {
				questionForm.className = "valid";
				event.preventDefault();
			}
			else if (other.checked) {
				if (validator.isEmpty(otherText.value)) {
					questionForm.className = "invalid";
					event.preventDefault();
				}
				else {
					questionForm.className = "valid";
					event.preventDefault();
				}
			}
			else {
				questionForm.className = "invalid";
				event.preventDefault();
			}	
		});
	</script>
</body>
</html>